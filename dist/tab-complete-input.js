parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r},p.cache={};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({"/sTc":[function(require,module,exports) {
var define;
var t;!function(){var i=function(t){for(var i in this.options={maxCache:10,enableCache:!0,insertOrder:!1,returnRoot:!1,insert:null,sort:null,clip:null,copy:null,merge:null},this.root={},this.index=0,t)t.hasOwnProperty(i)&&(this.options[i]=t[i]);"function"!=typeof this.options.insert&&(this.options.insert=function(t,i){return this.options.insertOrder&&void 0===i.d&&void 0===i.o&&(i={d:i,o:this.index++}),t&&t.length?t.push(i):t=[i],t}),"function"!=typeof this.options.sort&&(this.options.insertOrder?this.options.insertOrder&&(this.options.sort=function(){this.sort(function(t,i){return t.o-i.o})}):this.options.sort=function(){this.sort()}),"function"!=typeof this.options.clip&&(this.options.clip=function(t){this.length>t&&this.splice(t,this.length-t)}),"function"!=typeof this.options.copy&&(this.options.copy=function(t){return t.slice(0)}),"function"!=typeof this.options.merge&&(this.options.merge=function(t,i,o){for(var s=0,n=i.length;s<n;s++)t=this.options.insert.call(this,t,i[s]),this.options.sort.call(t,o),this.options.clip.call(t,this.options.maxCache);return t})};i.prototype={_addCacheData:function(t,i){return!(this.root===t&&!this.options.returnRoot||!1===this.options.enableCache)&&(t.$d||(t.$d={}),t.$d=this.options.insert.call(this,t.$d,i),this.options.sort.call(t.$d),this.options.clip.call(t.$d,this.options.maxCache),!0)},_addSuffix:function(t,i,o){var s=t.charAt(0),n=t.substring(1)||null,e={$d:{}};n&&(e.$s=n),void 0===o[s]?o[s]=e:void 0===o[s].$d&&(o[s].$d={},n&&void 0===o[s].$s&&(o[s].$s=n)),o[s].$d=this.options.insert.call(this,o[s].$d,i),this.options.sort.call(o[s].$d)},_moveSuffix:function(t,i,o){var s=t.charAt(0),n=t.substring(1)||null,e={$d:{}};n&&(e.$s=n),void 0===o[s]&&(o[s]=e),o[s].$d=this.options.copy(i)},_getDataAtNode:function(t,i){var o;return this.options.enableCache?(this.options.sort.call(t.$d,i),o=t.$d):o=this._getSubtree(t,i),this.options.insertOrder&&(o=this._stripInsertOrder(o)),o?this.options.copy(o):void 0},_stripInsertOrder:function(t){if(void 0!==t){for(var i=[],o=0,s=t.length;o<s;o++)i.push(t[o].d);return i}},_getSubtree:function(t,i){for(var o,s,n=[t];s=n.pop();)for(var e in s)s.hasOwnProperty(e)&&("$d"==e?(void 0===o&&(o=[]),o=this.options.merge.call(this,o,s.$d,i)):"$s"!=e&&n.push(s[e]));return o},add:function(t,i){if("string"!=typeof t)return!1;1==arguments.length&&(i=t),t=t.toLowerCase();for(var o=this.root,s=0,n=t.length;s<n;s++){var e=t.charAt(s);if(o[e])s==n-1?(this._addCacheData(o,i),this._addCacheData(o[e],i)||this._addSuffix(e,i,o)):(this._addCacheData(o,i),o=o[e]);else{if(o.$s){if(o.$s==t.substring(s)){this._addCacheData(o,i)||(o.$d=this.options.insert.call(this,o.$d,i),this.options.sort.call(o.$d));break}this._moveSuffix(o.$s,o.$d,o),delete o.$s,!1===this.options.enableCache&&delete o.$d}if(!o[e]){this._addSuffix(t.substring(s),i,o),this._addCacheData(o,i);break}this._addCacheData(o,i),s==n-1&&(o[e].$s?(this._moveSuffix(o[e].$s,o[e].$d,o[e]),delete o[e].$s,!1===this.options.enableCache&&delete o[e].$d,this._addSuffix(e,i,o)):this._addCacheData(o[e],i)||this._addSuffix(e,i,o)),o=o[e]}}},remove:function(t){if("string"==typeof t&&""!==t&&!this.options.enableCache){t=t.toLowerCase();var i,o,s,n,e,r,h=this.root,a=0;for(o=0,s=t.length;o<s;o++){if(!h[i=t.charAt(o)]){if(h.$s&&h.$s===t.substring(o))break;return}n=h,e=i,h=h[i]}for(var d in r=this.options.copy(h.$d),this.options.insertOrder&&(r=this._stripInsertOrder(r)),delete h.$d,delete h.$s,h)h.hasOwnProperty(d)&&a++;return a||delete n[e],r}},contains:function(t){if("string"!=typeof t||""==t)return!1;t=t.toLowerCase();for(var i=this.root,o=0,s=t.length;o<s;o++){var n=t.charAt(o);if(!i[n])return!(!i.$s||i.$s!==t.substring(o));i=i[n]}return!(!i.$d||void 0!==i.$s)},find:function(t){if("string"==typeof t&&(""!=t||this.options.returnRoot)){t=t.toLowerCase();for(var i=this.root,o=0,s=t.length;o<s;o++){var n=t.charAt(o);if(!i[n])return i.$s&&0==i.$s.indexOf(t.substring(o))?this._getDataAtNode(i,t):void 0;i=i[n]}return this._getDataAtNode(i,t)}}},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=i),exports.Triejs=i):"function"==typeof t&&t.amd?t("triejs",function(){return i}):this.Triejs=i}();
},{}],"ow6c":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("triejs"));function e(t){return t&&t.__esModule?t:{default:t}}function i(t,e,i,s,r,n,o){try{var a=t[n](o),u=a.value}catch(t){return void i(t)}a.done?e(u):Promise.resolve(u).then(s,r)}function s(t){return function(){var e=this,s=arguments;return new Promise(function(r,n){var o=t.apply(e,s);function a(t){i(o,r,n,a,u,"next",t)}function u(t){i(o,r,n,a,u,"throw",t)}a(void 0)})}}function r(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},s=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),s.forEach(function(e){n(t,e,i[e])})}return t}function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var o={name:"tab-complete-input",data:function(){return{trie:{},position:0,wordPos:0,index:0,words:[],word:"",dynamicData:!1,possible:!1,saved:!1,localValue:this.value}},render:function(t){var e=this;return t("input",{ref:"input",attrs:r({},e.$props),domProps:{value:e.value},directives:[{name:"model",rawName:"v-model",value:e.localValue,expression:"value"}],on:r({},e.$listeners,{keydown:e.$listeners.keydown?[e.tabComplete,e.$listeners.keydown]:e.tabComplete,input:function(t){e.localValue=t.target.value,e.$emit("input",t.target.value)}})})},created:function(){this.dynamicData=this.dataSource instanceof Function,this.dynamicData||this.setData(this.dataSource)},props:{dataSource:{default:[]},format:{default:function(t,e,i){return{word:t,prev:e}},type:Function},value:{default:"",type:String}},methods:{setData:function(e){var i=this;this.trie=new t.default,e.forEach(function(t){i.trie.add(t)})},tabComplete:function(){var t=s(regeneratorRuntime.mark(function t(e){var i,s,r,n,o,a,u,l,c,h,d;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e||9===e.keyCode){t.next=4;break}return this.saved=!1,this.index=0,t.abrupt("return");case 4:if(this.saved){t.next=31;break}this.position=this.getCursorPos(),i=this.localValue.slice(0,this.position)+" "+this.localValue.slice(this.position),this.words=i.split(" "),s=0,r=0;case 10:if(!(r<this.words.length)){t.next=20;break}if(n=this.words[r],!((s+=n.length+1)>=this.position)){t.next=17;break}return this.word=this.words[r],this.wordPos=r,t.abrupt("break",20);case 17:r++,t.next=10;break;case 20:if(""!=this.word&&e&&e.preventDefault(),!this.dynamicData){t.next=27;break}return o=this.dataSource(this.word,this.wordPos),t.next=25,o;case 25:a=t.sent,this.setData(a);case 27:this.saved=!0,this.possible=this.trie.find(this.word),t.next=32;break;case 31:this.index++;case 32:this.possible&&this.index>=this.possible.length&&(this.index=0),this.possible&&(e&&e.preventDefault(),u=this.words,l=this.possible[this.index],c="",u.length>1&&(c=u[this.wordPos-1]),h=this.format(l,c,this.wordPos),u[this.wordPos]=h.word,h.prev&&(u[this.wordPos-1]=h.prev),d=this.words.slice(0,this.wordPos+1).join(" ").length,this.localValue=u.join(" "),this.localValue=this.localValue.slice(0,d)+this.localValue.slice(d+1),this.updateValue(this.localValue),this.selectRange(d,d));case 34:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),updateValue:function(t){this.localValue=t,this.$emit("input",t)},selectRange:function(t,e){this.$el.focus(),this.$el.setSelectionRange(t,e)},getCursorPos:function(){return this.$el.selectionStart}}};exports.default=o;
},{"triejs":"/sTc"}]},{},["ow6c"], null)
//# sourceMappingURL=/tab-complete-input.map